package calc_tes1_ND.portlet;

import calc_tes1_ND.constants.calc_test1PortletKeys;

import com.liferay.portal.kernel.portlet.bridges.mvc.MVCPortlet;

import javax.portlet.Portlet;

import java.util.Scanner;

import org.osgi.service.component.annotations.Component;



/**
 * @author Rasulov Nodir
 */
@Component(
	immediate = true,
	property = {
		"com.liferay.portlet.display-category=category.sample",
		"com.liferay.portlet.header-portlet-css=/css/main.css",
		"com.liferay.portlet.instanceable=true",
		"javax.portlet.display-name=calc_test1",
		"javax.portlet.init-param.template-path=/",
		"javax.portlet.init-param.view-template=/view.jsp",
		"javax.portlet.name=" + calc_test1PortletKeys.CALC_TEST1,
		"javax.portlet.resource-bundle=content.Language",
		"javax.portlet.security-role-ref=power-user,user"
	},
	service = Portlet.class
)
/*public class SampleControllerPortler extends MVCPortler {
	@Override
	public void doView(RenderRequest renderRequest, RenderResponse renderResponse)
	throws IOException, PortlerException {
		System.out.printIn("The controller has executed.");
		super.doView(renderRequest, renderResponse);
	}
} */
public class calc_test1Portlet extends MVCPortlet {
	    static Scanner scanner = new Scanner(System.in);
	 
	    public static void main(String[] args) {
	        int num1 = getInt();
	        int num2 = getInt();
	        char operation = getOperation();
	        int result = calc(num1,num2,operation);
	        System.out.println("Результат операции: "+result);
	    }
	 
	    public static int getInt(){
	        System.out.println("Введите число:");
	        int num;
	        if(scanner.hasNextInt()){
	            num = scanner.nextInt();
	        } else {
	            System.out.println("Вы допустили ошибку при вводе числа. Попробуйте еще раз.");
	            scanner.next();//рекурсия
	            num = getInt();
	        }
	        return num;
	    }
	 
	    public static char getOperation(){
	        System.out.println("Введите операцию:");
	        char operation;
	        if(scanner.hasNext()){
	            operation = scanner.next().charAt(0);
	        } else {
	            System.out.println("Вы допустили ошибку при вводе операции. Попробуйте еще раз.");
	            scanner.next();//рекурсия
	            operation = getOperation();
	        }
	        return operation;
	    }
	 
	    public static int calc(int num1, int num2, char operation){
	        int result;
	        switch (operation){
	            case '+':
	                result = num1+num2;
	                break;
	            case '-':
	                result = num1-num2;
	                break;
	            case '*':
	                result = num1*num2;
	                break;
	            case '/':
	                result = num1/num2;
	                break;
	            default:
	                System.out.println("Операция не распознана. Повторите ввод.");
	                result = calc(num1, num2, getOperation());//рекурсия
	        }
	        return result;
	    }

}